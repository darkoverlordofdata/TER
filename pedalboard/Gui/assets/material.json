{
  "tags": null,
  "ignoreAlpha": false,
  "maxSimultaneousLights": 4,
  "mode": 1,
  "forceAlphaBlending": false,
  "id": "node",
  "name": "node",
  "checkReadyOnEveryCall": false,
  "checkReadyOnlyOnce": false,
  "state": "",
  "alpha": 1,
  "backFaceCulling": true,
  "cullBackFaces": true,
  "sideOrientation": 1,
  "alphaMode": 2,
  "_needDepthPrePass": false,
  "disableDepthWrite": false,
  "disableColorWrite": false,
  "forceDepthWrite": false,
  "depthFunction": 0,
  "separateCullingPass": false,
  "fogEnabled": true,
  "pointSize": 1,
  "zOffset": 0,
  "zOffsetUnits": 0,
  "pointsCloud": false,
  "fillMode": 0,
  "editorData": {
    "locations": [
      {
        "blockId": 2090,
        "x": 1710,
        "y": 420
      },
      {
        "blockId": 2091,
        "x": 1440,
        "y": 420
      },
      {
        "blockId": 2092,
        "x": 600,
        "y": 600
      },
      {
        "blockId": 2093,
        "x": 1170,
        "y": 600
      },
      {
        "blockId": 2094,
        "x": 1710,
        "y": 1230
      },
      {
        "blockId": 2095,
        "x": 1140,
        "y": 1230
      },
      {
        "blockId": 2096,
        "x": 600,
        "y": 960
      },
      {
        "blockId": 2097,
        "x": 600,
        "y": 1050
      },
      {
        "blockId": 2098,
        "x": 600,
        "y": 1260
      },
      {
        "blockId": 2099,
        "x": 600,
        "y": 1320
      },
      {
        "blockId": 2100,
        "x": 600,
        "y": 1410
      },
      {
        "blockId": 2101,
        "x": 600,
        "y": 1470
      },
      {
        "blockId": 2102,
        "x": 600,
        "y": 1560
      },
      {
        "blockId": 2103,
        "x": 600,
        "y": 1620
      },
      {
        "blockId": 2104,
        "x": 600,
        "y": 1710
      },
      {
        "blockId": 2105,
        "x": 600,
        "y": 1920
      },
      {
        "blockId": 2106,
        "x": 600,
        "y": 1710
      }
    ],
    "frames": [
      {
        "x": 510,
        "y": 780,
        "width": 891.693,
        "height": 1260,
        "color": [0, 0.44313725490196076, 0.4549019607843137],
        "name": "Shader",
        "isCollapsed": false,
        "blocks": [2097, 2098, 2099, 2100, 2101, 2102, 2103, 2104, 2105, 2095, 2106, 2096]
      }
    ],
    "x": 103.39614719972306,
    "y": -411.9806234085184,
    "zoom": 0.5898950477279039
  },
  "customType": "BABYLON.NodeMaterial",
  "outputNodes": [2090, 2094],
  "blocks": [
    {
      "customType": "BABYLON.VertexOutputBlock",
      "id": 2090,
      "name": "VertexOutput",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [
        {
          "name": "vector",
          "inputName": "vector",
          "targetBlockId": 2091,
          "targetConnectionName": "xyzw",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        }
      ],
      "outputs": []
    },
    {
      "customType": "BABYLON.VectorMergerBlock",
      "id": 2091,
      "name": "Position3D",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 4,
      "inputs": [
        {
          "name": "xyzw "
        },
        {
          "name": "xyz "
        },
        {
          "name": "xy ",
          "inputName": "xy ",
          "targetBlockId": 2092,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "zw "
        },
        {
          "name": "x"
        },
        {
          "name": "y"
        },
        {
          "name": "z"
        },
        {
          "name": "w",
          "inputName": "w",
          "targetBlockId": 2093,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        }
      ],
      "outputs": [
        {
          "name": "xyzw"
        },
        {
          "name": "xyz"
        },
        {
          "name": "xy"
        },
        {
          "name": "zw"
        }
      ],
      "xSwizzle": "x",
      "ySwizzle": "y",
      "zSwizzle": "z",
      "wSwizzle": "w"
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2092,
      "name": "position2d",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 4,
      "mode": 1,
      "animationType": 0,
      "min": 0,
      "max": 0,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2093,
      "name": "Constant1",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 0,
      "max": 0,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": true,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 1
    },
    {
      "customType": "BABYLON.FragmentOutputBlock",
      "id": 2094,
      "name": "FragmentOutput",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 2,
      "inputs": [
        {
          "name": "rgba",
          "inputName": "rgba",
          "targetBlockId": 2095,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "rgb"
        },
        {
          "name": "a"
        }
      ],
      "outputs": [],
      "useLogarithmicDepth": false
    },
    {
      "customType": "BABYLON.CustomBlock",
      "id": 2095,
      "name": "Shader",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 4,
      "inputs": [
        {
          "name": "FragCoord",
          "displayName": "FragCoord",
          "inputName": "FragCoord",
          "targetBlockId": 2092,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": 0
        },
        {
          "name": "RENDERSIZE",
          "displayName": "RENDERSIZE",
          "inputName": "RENDERSIZE",
          "targetBlockId": 2096,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "TIME",
          "displayName": "TIME",
          "inputName": "TIME",
          "targetBlockId": 2097,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "seed1",
          "displayName": "seed1",
          "inputName": "seed1",
          "targetBlockId": 2098,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "seed2",
          "displayName": "seed2",
          "inputName": "seed2",
          "targetBlockId": 2099,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "scale",
          "displayName": "scale",
          "inputName": "scale",
          "targetBlockId": 2100,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "rate",
          "displayName": "rate",
          "inputName": "rate",
          "targetBlockId": 2101,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "zoom",
          "displayName": "zoom",
          "inputName": "zoom",
          "targetBlockId": 2102,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "line",
          "displayName": "line",
          "inputName": "line",
          "targetBlockId": 2103,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "flash",
          "displayName": "flash",
          "inputName": "flash",
          "targetBlockId": 2104,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        },
        {
          "name": "cycle",
          "displayName": "cycle",
          "inputName": "cycle",
          "targetBlockId": 2105,
          "targetConnectionName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": -1
        }
      ],
      "outputs": [
        {
          "name": "output",
          "displayName": "output",
          "isExposedOnFrame": true,
          "exposedPortPosition": 0
        }
      ],
      "options": {
        "name": "Shader",
        "comments": "https://editor.isf.video/shaders/628424bbcbcd96001966b533",
        "target": "Neutral",
        "inParameters": [
          {
            "name": "FragCoord",
            "type": "Vector2"
          },
          {
            "name": "RENDERSIZE",
            "type": "Vector2"
          },
          {
            "name": "TIME",
            "type": "Float"
          },
          {
            "name": "seed1",
            "type": "Float"
          },
          {
            "name": "seed2",
            "type": "Float"
          },
          {
            "name": "scale",
            "type": "Float"
          },
          {
            "name": "rate",
            "type": "Float"
          },
          {
            "name": "zoom",
            "type": "Float"
          },
          {
            "name": "line",
            "type": "Float"
          },
          {
            "name": "flash",
            "type": "Float"
          },
          {
            "name": "cycle",
            "type": "Float"
          }
        ],
        "outParameters": [
          {
            "name": "output",
            "type": "Color4"
          }
        ],
        "functionName": "fnc",
        "code": [
          "float N1(float n) {",
          "    return fract(sin(n) * 43758.5453123);",
          "}",
          "",
          "float N11(float p) {",
          "    float fl = floor(p);",
          "    float fc = fract(p);",
          "    return mix(N1(fl), N1(fl + 1.0), fc);",
          "}",
          "",
          "float N21(vec2 p, float seed1, float seed2) { ",
          "  return fract(sin(p.x * floor(seed1) + p.y * floor(seed2)) * floor(seed2+seed1)); ",
          "}",
          "",
          "vec2 N22(vec2 p, float seed1, float seed2) { ",
          "  return vec2(N21(p, seed1, seed2), N21(p + floor(seed2), seed1, seed2)); ",
          "}",
          "",
          "float L(vec2 p, vec2 a, vec2 b) {",
          "    vec2 pa = p-a, ba = b-a;",
          "    float t = clamp(dot(pa, ba)/dot(ba, ba), 0.0, 1.0);",
          "    float d = length(pa - ba * t);",
          "    float m = smoothstep(0.02, 0.0, d);",
          "    d = length(a-b);",
          "    float f = smoothstep(1.0, 0.8, d);",
          "    m *= f;",
          "    m += m*smoothstep(0.05, 0.06, abs(d - 0.5)) * 2.0;",
          "    return m;",
          "}",
          "",
          "vec2 GetPos(vec2 p, vec2 o, float TIME, float rate, float line, float seed1, float seed2) {",
          "    p += o;",
          "    vec2 n = N22(p, seed1, seed2)*TIME*rate;",
          "    p = sin(n) * line;",
          "    return o+p;",
          "}",
          "",
          "float G(vec2 uv, float TIME, float rate, float line, float seed1, float seed2, float flash) {",
          "    vec2 id = floor(uv);",
          "    uv = fract(uv) - 0.5;",
          "    vec2 g = GetPos(id, vec2(0), TIME, rate, line, seed1, seed2);",
          "    float m = 0.0;",
          "    for(float y=-1.0; y<=1.0; y++) {",
          " for(float x=-1.0; x<=1.0; x++) {",
          "     vec2 offs = vec2(x, y);",
          "     vec2 p = GetPos(id, offs, TIME, rate, line, seed1, seed2);",
          "     m+=L(uv, g, p);",
          "     vec2 a = p-uv;",
          "     float f = 0.003/dot(a, a);",
          "     f *= pow( sin(N21(id+offs, seed1, seed2) * 6.2831 + (flash*TIME)) * 0.4 + 0.6, flash);",
          "     m += f;",
          " }",
          "    }",
          "    m += L(uv, GetPos(id, vec2(-1, 0), TIME, rate, line, seed1, seed2), GetPos(id, vec2(0, -1), TIME, rate, line, seed1, seed2));",
          "    m += L(uv, GetPos(id, vec2(0, -1), TIME, rate, line, seed1, seed2), GetPos(id, vec2(1, 0), TIME, rate, line, seed1, seed2));",
          "    m += L(uv, GetPos(id, vec2(1, 0), TIME, rate, line, seed1, seed2), GetPos(id, vec2(0, 1), TIME, rate, line, seed1, seed2));",
          "    m += L(uv, GetPos(id, vec2(0, 1), TIME, rate, line, seed1, seed2), GetPos(id, vec2(-1, 0), TIME, rate, line, seed1, seed2));",
          "    return m;",
          "}",
          "",
          "void fnc(vec2 FragCoord, vec2 RENDERSIZE, float TIME,float seed1,float seed2,float scale,float rate,float zoom,float line,float flash,float cycle, out vec4 FragColor) {",
          "    bool mirror = false;",
          "    bool color = true;",
          "    vec2 uv = (2.25 - scale) * (FragCoord.xy - 0.5 * RENDERSIZE.xy) / RENDERSIZE.y;",
          "    if (mirror) { if(uv.x<0.0) uv.x = abs(uv.x); }",
          "    float m = 0.0;",
          "    vec3 col;",
          "    for(float i=0.0; i<1.0; i+=0.2) {",
          " float z = fract(i+TIME*zoom);",
          " float s = mix(10.0, 0.5, z);",
          " float f = smoothstep(0.0, 0.4, z) * smoothstep(1.0, 0.8, z);",
          " m += G(uv * s + (N11(i)*100.0) * i, TIME, rate, line, seed1, seed2, flash) * f;",
          "    }",
          "    if (color) { col = 0.5 + sin(vec3(1.0, 0.5, 0.75)*TIME*cycle) * 0.5; }",
          "    else col = vec3(1.0);",
          "    col *= m; ",
          "    FragColor = vec4( col, 1.0 );",
          "}"
        ]
      }
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2096,
      "name": "Dimension",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 4,
      "mode": 0,
      "animationType": 0,
      "min": 0,
      "max": 0,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "BABYLON.Vector2",
      "value": [1, 1]
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2097,
      "name": "Time",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 1,
      "min": 0,
      "max": 0,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 0
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2098,
      "name": "Seed1",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 34,
      "max": 233,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 154
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2099,
      "name": "Seed2",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 89,
      "max": 987,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 649
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2100,
      "name": "Scale",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 0.25,
      "max": 2,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 1
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2101,
      "name": "Rate",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 0.1,
      "max": 3,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 1
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2102,
      "name": "Zoom",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": -1,
      "max": 1,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 0.04
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2103,
      "name": "Line",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": -1,
      "max": 1,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 0.175
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2104,
      "name": "Flash",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 0.5,
      "max": 10,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 7.5
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2105,
      "name": "Float",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 0.05,
      "max": 10,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 1
    },
    {
      "customType": "BABYLON.InputBlock",
      "id": 2106,
      "name": "Float",
      "comments": "",
      "visibleInInspector": false,
      "visibleOnFrame": false,
      "target": 1,
      "inputs": [],
      "outputs": [
        {
          "name": "output"
        }
      ],
      "type": 1,
      "mode": 0,
      "animationType": 0,
      "min": 0,
      "max": 0,
      "isBoolean": false,
      "matrixMode": 0,
      "isConstant": false,
      "groupInInspector": "",
      "convertToGammaSpace": false,
      "convertToLinearSpace": false,
      "valueType": "number",
      "value": 0
    }
  ]
}
